# Managed by Ansible - windows_openssh_config

Port {{ openssh_port }}
AddressFamily any
ListenAddress 0.0.0.0

PubkeyAuthentication yes
PasswordAuthentication no
KbdInteractiveAuthentication no
AuthorizedKeysFile .ssh/authorized_keys

PermitEmptyPasswords no
PermitUserEnvironment no
IgnoreRhosts yes
StrictModes yes

AllowTcpForwarding no
AllowAgentForwarding no
X11Forwarding no
PermitTunnel no

ClientAliveInterval 120
ClientAliveCountMax 3
TCPKeepAlive yes

Subsystem sftp sftp-server.exe

{% if openssh_allow_users is defined and openssh_allow_users|length > 0 %}
AllowUsers {{ openssh_allow_users | join(' ') }}
{% endif %}
