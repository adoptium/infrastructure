##############
# Boot JDK 7 #
##############
---
- name: Check Java7 installation
  stat:
    path: /usr/j2sdk-image
  register: java7
  tags:
    - never
    - java7

- name: Transfer and Extract Java7
  unarchive:
    src: /Vendor_Files/aix/openjdk-7u-aix.tar
    dest: /usr
    remote_src: no
  when: java7.stat.isdir is not defined
  tags:
    - never
    - java7

- name: Check for Java7 availability
  stat:
    path: /usr/j2sdk-image
  register: java7
  tags: java7

- name: Mention explicit need for 'java7' tag
  debug:
    msg: must explicity specify tag 'java7' to install /Vendor_Files/aix/openjdk-7u-aix.tar
    verbosity: 0
  when: java7.stat.isdir is not defined
